<template>
    <lightning-card title="Welcome Admin" icon-name="custom:custom14">
      <div class="slds-m-around_medium">
        <lightning-button-group>
          <lightning-button label="Add New Employee" onclick={empform}></lightning-button>
          <lightning-button label="Add New Certification" onclick={certform}></lightning-button>
          <lightning-button label="Add New Voucher" onclick={vouform}></lightning-button>
        </lightning-button-group>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <lightning-button-group>
          <lightning-button label="View All Employees" onclick={viewemps}></lightning-button>
          <lightning-button label="View All Certifications" onclick={viewcerts}></lightning-button>
          <lightning-button label="View All Vouchers" onclick={viewvous}></lightning-button>
        </lightning-button-group>
      </div>
    </lightning-card>
  


    <template if:true={empflag}>
      <section role="dialog" tabindex="-1" aria-label="Meaningful description of the modal content" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">
          <header class="slds-modal__header slds-modal__header_empty">
            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close">
              <span class="slds-assistive-text">Close</span>
            </button>
            <p>New Employee form</p>
          </header>
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-4">
            <lightning-input label="Employee Name" value={EmpName} type="String" required onchange={EmpNameChange}></lightning-input>
            <lightning-input label="Employee Id" value={EmpId} type="Number" required onchange={EmpIdChange}></lightning-input>
            <lightning-input label="Employee Email" value={EmpMail} type="Email" required onchange={EmpMailChange}></lightning-input>
            <lightning-input label="Primary Skill" value={EmpPS} type="String" required onchange={EmpPSChange}></lightning-input>
            <lightning-input label="Secondary Skill" value={EmpSS} type="String" onchange={EmpSSChange}></lightning-input>
            <lightning-input label="Employee Experience" value={EmpExp} type="Number" required onchange={EmpExpChange}></lightning-input>
            <lightning-input label="Comments" value={EmpComm} type="String" onchange={EmpCommChange}></lightning-input>
          </div>
          <footer class="slds-modal__footer">
            <button class="slds-button slds-button_brand" onclick={addemp}>Add</button>
            <button class="slds-button slds-button_neutral" onclick={closepopup}>Cancel</button>
          </footer>
        </div>
      </section>
      <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
  



    <!--Pop Up for creating New Certificate-->
    <template if:true={certflag}>
      <section
        role="dialog"
        tabindex="-1"
        aria-label="Meaningful description of the modal content"
        aria-modal="true"
        aria-describedby="modal-content-id-1"
        class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">
          <header class="slds-modal__header slds-modal__header_empty">
            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close">
              <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
              </svg>
              <span class="slds-assistive-text">Close</span>
            </button>
            <p>New Certification form</p>
          </header>
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-5">
            <lightning-input label="Certification Name" value={CertName} type="String" required onchange={CertNameChange}></lightning-input>
            <lightning-input label="Certification Id" value={CertId} type="Number" required onchange={CertIdChange}></lightning-input>
            <lightning-input label="Certification Cost" value={CertCost} type="Number" required onchange={CertCostChange}></lightning-input>
            <lightning-input label="Certification Comments" value={CertComm} type="String" onchange={CertCommChange}></lightning-input>
          </div>
          <footer class="slds-modal__footer">
            <button class="slds-button slds-button_brand" onclick={addcert}>Add</button>
            <button class="slds-button slds-button_neutral" onclick={closepopup}>Cancel</button>
          </footer>
        </div>
      </section>
      <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
  


    <!--Pop Up for creating New Voucher-->
    <template if:true={vouflag}>
      <section
        role="dialog"
        tabindex="-1"
        aria-label="Meaningful description of the modal content"
        aria-modal="true"
        aria-describedby="modal-content-id-1"
        class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">
          <header class="slds-modal__header slds-modal__header_empty">
            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close">
              <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true"></svg>
                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
              </svg>
              <span class="slds-assistive-text">Close</span>
            </button>
            <p>New Voucher form</p>
          </header>
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-6">
            <lightning-input label="Voucher Id" value={VouId} type="String" minlength="10" maxlength="10" message-when-bad-input="Id should be 10 characters long." required onchange={VouIdChange}></lightning-input>
            <lightning-input label="Voucher Cost" value={VouCost} type="Currency" required onchange={VouCostChange}></lightning-input>
            <lightning-input label="Voucher Validity" value={VouValid} type="date" required onchange={VouValidChange}></lightning-input>
            <c-certLookupComponent object-name="Certification__c" field-name="Name" label="Certification" parentidfield="Certification__c" onselect={handleAutoSelect} iconname="standard:account"></c-certLookupComponent>  
            <lightning-input label="Voucher Comments" value={VouComm} type="Text" onchange={VouCommChange}></lightning-input>
            <lightning-input label="Active" value={VouActive} type="checkbox" onchange={VouActiveChange}></lightning-input>
          </div>
          <footer class="slds-modal__footer">
            <button class="slds-button slds-button_brand" onclick={addvou}>Add</button>
            <button class="slds-button slds-button_neutral" onclick={closepopup}>Cancel</button>
          </footer>
        </div>
      </section>
      <div class="slds-backdrop slds-backdrop_open"></div>
    </template>


    <!--Update options for the vouchers app-->
    <template if:true={viewvouflag}>
            <template for:each={Vouchers} for:item="voucher" for:index="i">
              <lightning-card key={abc}>
                  <p>Voucher Id : {voucher.Name}</p>
                  <p>Voucher Certification : {voucher.Certification__c}</p>
                  <p>Active : {voucher.Active__c}</p>
                  <lightning-button label="Update" variant="brand" onclick={updatevoucher} value={i}></lightning-button>
                  <button class="slds-button slds-button_neutral" onclick={deletevoucher} value={i}>Delete</button>
              </lightning-card>
            </template>
            <button class="slds-button slds-button_neutral" onclick={closepopup}>Close</button>
    </template>

    <template if:true={upvflag}>
      <section role="dialog" tabindex="-1" aria-label="Meaningful description of the modal content" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">
          <header class="slds-modal__header slds-modal__header_empty">
            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close">
              <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true"></svg>
                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
              </svg>
              <span class="slds-assistive-text">Close</span>
            </button>
            <p>Update Vouchers List</p>
          </header>
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-3">
            <lightning-card>Voucher ID: {VouId}</lightning-card>
            <lightning-input label="Voucher Cost" value={VouCost} type="Currency" required onchange={VouCostChange}></lightning-input>
            <lightning-input label="Voucher Comments" value={VouComm} type="Text" onchange={VouCommChange}></lightning-input>
          </div>
          <footer class="slds-modal__footer">
          <Lightning-button label="Update" onclick={updatervoucher} variant="brand"></Lightning-button>
          <Lightning-button label="Cancle" onclick={closeflag} variant="destructive"></Lightning-button>
          </footer>
        </div>
      </section>
      <div class="slds-backdrop slds-backdrop_open"></div>
    </template>


    <!-- Update option for the Employee-->
    <template if:true={viewempflag}>
      <template for:each={Employees} for:item="employee" for:index="i">
        <lightning-card key={abc}>
          <p>Employee Name : {employee.Name}</p>
          <p>Employee Id : {employee.Emp_ID__c}</p>
          <p>Email : {employee.Employee_email__c}</p>
          <p>Primary skill : {employee.Primary_Skill__c}</p>
          <p>Secondary skill: {employee.Secondary_Skill__c}</p>
          <p>Experience: {employee.Experience__c}</p>
          <lightning-button label="Update" variant="brand" onclick={updateemp} value={i}></lightning-button>
          <button class="slds-button slds-button_neutral" onclick={deleteemployee} value={i}>Delete</button>
        </lightning-card>
      </template>
      <button class="slds-button slds-button_neutral" onclick={closepopup}>Close</button>
    </template>
    
    <template if:true={upeflag}>
      <section role="dialog" tabindex="-1" aria-label="Meaningful description of the modal content" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">
          <header class="slds-modal__header slds-modal__header_empty">
            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close">
              <span class="slds-assistive-text">Close</span>
            </button>
            <p>Update Employee form</p>
          </header>
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-4-1">
            <lightning-input label="Employee Name" value={EmpName} type="String" required onchange={EmpNameChange}></lightning-input>
            <lightning-input label="Employee Id" value={EmpId} type="Number" required onchange={EmpIdChange}></lightning-input>
            <lightning-input label="Employee Email" value={EmpMail} type="Email" required onchange={EmpMailChange}></lightning-input>
            <lightning-input label="Primary Skill" value={EmpPS} type="String" required onchange={EmpPSChange}></lightning-input>
            <lightning-input label="Secondary Skill" value={EmpSS} type="String" onchange={EmpSSChange}></lightning-input>
            <lightning-input label="Employee Experience" value={EmpExp} type="Number" required onchange={EmpExpChange}></lightning-input>
            <lightning-input label="Comments" value={EmpComm} type="String" onchange={EmpCommChange}></lightning-input>
          </div>
          <footer class="slds-modal__footer">
            <lightning-button label="Update" variant="brand" onclick={updateremp}></lightning-button>
            <Lightning-button label="Cancle" onclick={closeflag} variant="destructive"></Lightning-button>
          </footer>
        </div>
      </section>
      <div class="slds-backdrop slds-backdrop_open"></div>
    </template>


    <!--updation for the certificates-->
    <template if:true={viewcertflag}>
      <template for:each={Certifications} for:item="certification" for:index="i">
        <lightning-card key={abc}>
          <p>Certification Name : {certification.Name}</p>
          <p>Certification Id : {certification.Cert_Id__c}</p>
          <p>Cost : {certification.Certification_cost__c}</p>
          <p>Certification Comments : {Comments__c} </p>
          <lightning-button label="Update" onclick={sample} variant="brand" value={i}></lightning-button>
          <button class="slds-button slds-button_neutral" onclick={deletecertificate} value={i}>Delete</button>
        </lightning-card>
      </template>
      <button class="slds-button slds-button_neutral" onclick={closepopup}>Close</button>
    </template>

    <template if:true={cetfla}>
      <section role="dialog" tabindex="-1" aria-label="Meaningful description of the modal content" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">
          <header class="slds-modal__header slds-modal__header_empty">
            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close">
              <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
              </svg>
              <span class="slds-assistive-text">Close</span>
            </button>
            <p>New Certification form</p>
          </header>
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-5-2">
            <lightning-input label="Certification Name" value={CertName} type="String" required onchange={CertNameChange}></lightning-input>
            <lightning-input label="Certification Id" value={CertId} type="Number" required onchange={CertIdChange}></lightning-input>
            <lightning-input label="Certification Cost" value={CertCost} type="Number" required onchange={CertCostChange}></lightning-input>
            <lightning-input label="Certification Comments" value={CertComm} type="String" onchange={CertCommChange}></lightning-input>
          </div>
          <footer class="slds-modal__footer">
            <button class="slds-button slds-button_brand" onclick={updatercert}>Update</button>
            <button class="slds-button slds-button_neutral" onclick={closeflag}>Cancel</button>
          </footer>
        </div>
      </section>
      <div class="slds-backdrop slds-backdrop_open"></div>
    </template>

  </template>